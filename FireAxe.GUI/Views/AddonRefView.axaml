<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:FireAxe.ViewModels"
             xmlns:v="using:FireAxe.Views"
             xmlns:r="using:FireAxe.Resources"
             xmlns:conv="using:FireAxe.ValueConverters"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="200"
             x:Class="FireAxe.Views.AddonRefView"
             x:DataType="vm:AddonNodeSimpleViewModel">
  <Design.DataContext>
    <vm:AddonNodeViewModelDesign/>
  </Design.DataContext>

  <Panel>
    <DockPanel
      IsVisible="{Binding Addon, Converter={x:Static ObjectConverters.IsNull}, FallbackValue=True}">
      <StackPanel
        DockPanel.Dock="Left"
        Orientation="Horizontal">
        <PathIcon
          Data="{StaticResource icon_warning}"
          Foreground="{DynamicResource brush_warning}"
          Margin="5, 0, 5, 0"/>
        <TextBlock
          Text="{x:Static r:Texts.MissingAddon}"
          VerticalAlignment="Center"
          Margin="5, 0, 5, 0"/>
      </StackPanel>
      <SelectableTextBlock
        DockPanel.Dock="Left"
        Text="{Binding AddonId, StringFormat='(ID: {0})'}"
        TextWrapping="Wrap"
        VerticalAlignment="Center"/>
    </DockPanel>
    
    <DockPanel
      IsVisible="{Binding Addon, Converter={x:Static ObjectConverters.IsNotNull}, FallbackValue=False}">
      <StackPanel
        DockPanel.Dock="Left"
        Orientation="Horizontal">
        <v:AddonNodeEnableButton/>
      </StackPanel>
      <Button
        DockPanel.Dock="Left"
        Name="jumpButton"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Center"
        HorizontalContentAlignment="Left"
        Background="Transparent">
        <StackPanel Orientation="Horizontal">
          <v:AddonIconView
            ImageSize="40"
            SpecialIconSize="{Binding $self.ImageSize}"
            Margin="0, 0, 2.5, 0"/>
          <SelectableTextBlock
            Text="{Binding Addon.Name}"
            TextTrimming="CharacterEllipsis"
            VerticalAlignment="Center"
            Margin="2.5, 0, 0, 0"/>
        </StackPanel>
      </Button>
    </DockPanel>
  </Panel>
</UserControl>
